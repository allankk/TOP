(()=>{"use strict";const t=()=>{const t=document.getElementsByTagName("section")[0];null!=t&&t.parentNode.removeChild(t)},e=t=>{(()=>{const t=document.getElementById("project-list");for(;t.children[0];)t.removeChild(t.children[0])})();let e=[];const n=document.createElement("li");n.setAttribute("id","new-project-li");const c=document.createElement("a");c.setAttribute("href","#new-project"),c.setAttribute("id","new-project"),c.setAttribute("class","new-project"),c.innerHTML="+ add project",n.appendChild(c),n.onclick=function(){const e=document.getElementById("popup");d(t),r(t,null,[]),e.style.display="block"},e.push(n),t.projects.forEach((n=>{const c=document.createElement("li");c.setAttribute("class","project");const i=document.createElement("a");i.setAttribute("class","nav-link"),i.setAttribute("id","project-"+n.projectID),i.innerHTML=n.projectTitle,c.appendChild(i),i.onclick=function(){o(t,n.projectID)},e.push(c)}));const i=document.getElementById("project-list");e.forEach((t=>{i.appendChild(t)}))},o=(n,c)=>{t();let s=null;for(let t=0;t<n.projects.length;t++)n.projects[t].projectID==c&&(s=t);const l=document.getElementById("main-container"),a=document.createElement("section");a.setAttribute("class","main-section"),a.setAttribute("class","project-"+c);const u=document.createElement("div");u.setAttribute("class","project-head");const m=document.createElement("div");m.setAttribute("class","content");const j=document.createElement("header");j.innerHTML=n.projects[s].projectTitle;const h=document.createElement("p");h.innerHTML=n.projects[s].projectDescription,m.appendChild(j),m.appendChild(h);const D=document.createElement("div");D.setAttribute("class","buttons");const E=document.createElement("i");E.setAttribute("class","fa fa-pencil-alt"),E.setAttribute("aria-hidden","true"),E.onclick=function(){const t=document.getElementById("popup");d(n),r(n,c,[]),t.style.display="block"};const T=document.createElement("i");T.setAttribute("class","fa fa-trash"),T.setAttribute("aria-hidden","true"),T.onclick=function(){let o=i(n,c);n.projects.splice(o,1),e(n),t()},D.appendChild(E),D.appendChild(T),u.appendChild(m),u.appendChild(D);const b=document.createElement("div");b.setAttribute("class","add-todo");const f=document.createElement("div");f.setAttribute("class","add-button"),f.setAttribute("id","add-todo-button"),f.onclick=function(){const t=document.getElementById("popup");d(n),p(n,[],c,null),t.style.display="block"};const I=document.createElement("span");I.innerHTML="add task";const A=document.createElement("i");A.setAttribute("class","fa fa-plus-circle"),A.setAttribute("aria-hidden","true"),f.appendChild(I),f.appendChild(A),b.appendChild(f),l.appendChild(a),a.appendChild(u),a.appendChild(b),n.projects[s].todos.forEach((t=>{const e=document.createElement("div");e.setAttribute("class","project-content");const i=document.createElement("div");i.setAttribute("class","content");const r=document.createElement("div");r.setAttribute("class","title"),r.innerHTML=t.todoTitle;const l=document.createElement("div");l.setAttribute("class","description"),l.innerHTML=t.todoDescription;const u=document.createElement("div");u.setAttribute("class","date"),u.innerHTML="dd/mm/yy hh:mm",i.appendChild(r),i.appendChild(l),i.appendChild(u);const m=document.createElement("div");m.setAttribute("class","buttons");const j=document.createElement("i");j.setAttribute("class","fa fa-pencil-alt"),j.setAttribute("aria-hidden","true"),j.setAttribute("id","todo-button"),j.onclick=function(){const e=document.getElementById("popup");d(n),p(n,[],c,t.todoID),e.style.display="block"};const h=document.createElement("i");h.setAttribute("class","fa fa-trash"),h.setAttribute("aria-hidden","true"),h.onclick=function(){let e=null;for(let o=0;o<n.projects[s].todos.length;o++)n.projects[s].todos[o]==t&&(e=o);n.projects[s].todos.splice(e,1),o(n,c)},m.appendChild(j),m.appendChild(h),e.appendChild(i),e.appendChild(m),a.appendChild(e)}))},n=(t,e)=>{let o=!1;return t.projects.forEach((t=>{t.projectID==e&&(o=!0)})),o},c=(t,e,o)=>{let n=!1;return t.projects[e].todos.forEach((t=>{t.todoID==o&&(n=!0)})),n},i=(t,e)=>{for(let o=0;o<t.projects.length;o++)if(t.projects[o].projectID==e)return o};function s(t,e,o){for(let n=0;n<t.projects[e].todos.length;n++)if(t.projects[e].todos[n].todoID==o)return n}const d=t=>{document.getElementById("popup"),document.getElementById("new-project")},r=(t,c,s)=>{let d=i(t,c),r=n(t,c);const p=document.getElementsByClassName("popup-container")[0],a=document.getElementById("apply"),u=document.createElement("div");u.setAttribute("class","content-div"),s.push(u);const m=document.createElement("p");m.innerHTML="Project Title",s.push(m);const j=document.createElement("input");j.setAttribute("class","titleInput"),r&&j.setAttribute("value",t.projects[d].projectTitle),s.push(j);const h=document.createElement("div");h.setAttribute("class","content-div"),s.push(h);const D=document.createElement("p");D.innerHTML="Project Description",s.push(D);const E=document.createElement("textarea");E.setAttribute("class","descriptionInput"),E.setAttribute("rows","4"),r&&(E.innerHTML=t.projects[d].projectDescription),s.push(E),a.onclick=function(d){((t,c,s,d)=>{if(""!=s&&null!=s&&null!=s){if(n(t,c)){const e=i(t,c);t.projects[e].projectTitle=s.value,t.projects[e].projectDescription=d.value,o(t,c)}else((t,e,o)=>{let n={projectID:function(t){let e=0;return t.projects.forEach((t=>{t.projectID>e&&(e=t.projectID)})),e+1}(t),projectTitle:""+e.value,projectDescription:""+o.value,todos:[]};t.projects.push(n)})(t,s,d);e(t)}else console.log("The project needs a title")})(t,c,j,E),popup.style.display="none",l(s)},u.appendChild(m),u.appendChild(j),h.appendChild(D),h.appendChild(E),p.insertBefore(u,a),p.insertBefore(h,a),document.getElementsByClassName("close")[0].onclick=function(){popup.style.display="none",l(s)},window.onclick=function(t){t.target==popup&&(popup.style.display="none",l(s))}},p=(t,e,d,r)=>{const p=document.getElementsByClassName("popup-container")[0],a=document.getElementById("apply");let u=i(t,d),m=c(t,u,r);const j=document.createElement("div");j.setAttribute("class","content-div"),e.push(j);const h=document.createElement("p");h.innerHTML="Task Title",e.push(h);const D=document.createElement("input");D.setAttribute("class","titleInput");const E=document.createElement("div");E.setAttribute("class","content-div");const T=document.createElement("p");T.innerHTML="Task Description";const b=document.createElement("textarea");if(b.setAttribute("class","descriptionInput"),b.setAttribute("rows","4"),m){let e=s(t,u,r);D.setAttribute("value",t.projects[u].todos[e].todoTitle),b.innerHTML=t.projects[u].todos[e].todoDescription}e.push(D),e.push(E),e.push(T),e.push(b),a.onclick=function(p){((t,e,d,r,p)=>{if(0==n(t,e))return;let l=i(t,e);if(c(t,l,d)){const e=s(t,l,d);t.projects[l].todos[e].todoTitle=r.value,t.projects[l].todos[e].todoDescription=p.value}else((t,e,o,n)=>{let c={todoID:function(t,e){let o=0;return t.projects[e].todos.forEach((t=>{t.todoID>o&&(o=t.todoID)})),o+1}(t,e),todoTitle:""+o.value,todoDescription:""+n.value};t.projects[e].todos.push(c)})(t,l,r,p);o(t,e)})(t,d,r,D,b),popup.style.display="none",l(e)},j.appendChild(h),j.appendChild(D),E.appendChild(T),E.appendChild(b),p.insertBefore(j,a),p.insertBefore(E,a),document.getElementsByClassName("close")[0].onclick=function(){popup.style.display="none",l(e)},window.onclick=function(t){t.target==popup&&(popup.style.display="none",l(e))}},l=t=>{for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);t.splice(0,t.length)};e({projects:[{projectID:0,projectTitle:"Project 0",projectDescription:"description 0",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:1,projectTitle:"Project 1",projectDescription:"description 1",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:2,projectTitle:"Project 2",projectDescription:"description 2",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]}]}),d({projects:[{projectID:0,projectTitle:"Project 0",projectDescription:"description 0",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:1,projectTitle:"Project 1",projectDescription:"description 1",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:2,projectTitle:"Project 2",projectDescription:"description 2",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]}]})})();