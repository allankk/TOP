(()=>{"use strict";const t=t=>{(()=>{const t=document.getElementById("project-list");for(;t.children[0];)t.removeChild(t.children[0])})();let c=[];const i=document.createElement("li");i.setAttribute("id","new-project-li");const d=document.createElement("a");d.setAttribute("href","#new-project"),d.setAttribute("id","new-project"),d.setAttribute("class","new-project"),d.innerHTML="+ add project",i.appendChild(d),i.onclick=function(){const e=document.getElementById("popup");o(t),n(t,[]),e.style.display="block"},c.push(i),t.projects.forEach((o=>{const n=document.createElement("li");n.setAttribute("class","project");const i=document.createElement("a");i.setAttribute("class","nav-link"),i.setAttribute("id","project-"+o.projectID),i.innerHTML=o.projectTitle,n.appendChild(i),i.onclick=function(){e(t,o.projectID)},c.push(n)}));const s=document.getElementById("project-list");c.forEach((t=>{s.appendChild(t)}))},e=(t,i)=>{(()=>{const t=document.getElementsByTagName("section")[0];null!=t&&t.parentNode.removeChild(t)})();let d=null;for(let e=0;e<t.projects.length;e++)t.projects[e].projectID==i&&(d=e);const s=document.getElementById("main-container"),r=document.createElement("section");r.setAttribute("class","main-section"),r.setAttribute("class","project-"+i);const p=document.createElement("div");p.setAttribute("class","project-head");const l=document.createElement("div");l.setAttribute("class","content");const a=document.createElement("header");a.innerHTML=t.projects[d].projectTitle;const u=document.createElement("p");u.innerHTML=t.projects[d].projectDescription,l.appendChild(a),l.appendChild(u);const m=document.createElement("div");m.setAttribute("class","buttons");const h=document.createElement("i");h.setAttribute("class","fa fa-pencil-alt"),h.setAttribute("aria-hidden","true"),h.onclick=function(){const e=document.getElementById("popup");o(t),n(t,[]),e.style.display="block"};const j=document.createElement("i");j.setAttribute("class","fa fa-trash"),j.setAttribute("aria-hidden","true"),m.appendChild(h),m.appendChild(j),p.appendChild(l),p.appendChild(m);const E=document.createElement("div");E.setAttribute("class","add-todo");const D=document.createElement("div");D.setAttribute("class","add-button"),D.setAttribute("id","add-todo-button"),D.onclick=function(){const e=document.getElementById("popup");o(t),c(t,[],i),e.style.display="block"};const T=document.createElement("span");T.innerHTML="add task";const b=document.createElement("i");b.setAttribute("class","fa fa-plus-circle"),b.setAttribute("aria-hidden","true"),D.appendChild(T),D.appendChild(b),E.appendChild(D),s.appendChild(r),r.appendChild(p),r.appendChild(E),t.projects[d].todos.forEach((n=>{const s=document.createElement("div");s.setAttribute("class","project-content");const p=document.createElement("div");p.setAttribute("class","content");const l=document.createElement("div");l.setAttribute("class","title"),l.innerHTML=n.todoTitle;const a=document.createElement("div");a.setAttribute("class","description"),a.innerHTML=n.todoDescription;const u=document.createElement("div");u.setAttribute("class","date"),u.innerHTML="dd/mm/yy hh:mm",p.appendChild(l),p.appendChild(a),p.appendChild(u);const m=document.createElement("div");m.setAttribute("class","buttons");const h=document.createElement("i");h.setAttribute("class","fa fa-pencil-alt"),h.setAttribute("aria-hidden","true"),h.setAttribute("id","todo-button"),h.onclick=function(){const e=document.getElementById("popup");o(t),c(t,[]),e.style.display="block"};const j=document.createElement("i");j.setAttribute("class","fa fa-trash"),j.setAttribute("aria-hidden","true"),j.onclick=function(){let o=null;for(let e=0;e<t.projects[d].todos.length;e++)t.projects[d].todos[e]==n&&(o=e);t.projects[d].todos.splice(o,1),e(t,i),console.log(t)},m.appendChild(h),m.appendChild(j),s.appendChild(p),s.appendChild(m),r.appendChild(s)}))},o=t=>{document.getElementById("popup"),document.getElementById("new-project")},n=(e,o)=>{const n=document.getElementsByClassName("popup-container")[0],c=document.getElementById("apply"),d=document.createElement("div");d.setAttribute("class","content-div"),o.push(d);const s=document.createElement("p");s.innerHTML="Project Title",o.push(s);const r=document.createElement("input");r.setAttribute("class","titleInput"),o.push(r);const p=document.createElement("div");p.setAttribute("class","content-div"),o.push(p);const l=document.createElement("p");l.innerHTML="Project Description",o.push(l);const a=document.createElement("textarea");a.setAttribute("class","descriptionInput"),a.setAttribute("rows","4"),o.push(a),c.onclick=function(n){((e,o,n)=>{if(""==o||null==o||null==o)return void console.log("The project needs a title");let c={projectID:function(t){let e=0;return t.projects.forEach((t=>{t.projectID>e&&(e=t.projectID)})),e+1}(e),projectTitle:""+o.value,projectDescription:""+n.value,todos:[]};e.projects.push(c),t(e)})(e,r,a),popup.style.display="none",i(o)},d.appendChild(s),d.appendChild(r),p.appendChild(l),p.appendChild(a),n.insertBefore(d,c),n.insertBefore(p,c),document.getElementsByClassName("close")[0].onclick=function(){popup.style.display="none",i(o)},window.onclick=function(t){t.target==popup&&(popup.style.display="none",i(o))}},c=(t,o,n)=>{const c=document.getElementsByClassName("popup-container")[0],d=document.getElementById("apply"),s=document.createElement("div");s.setAttribute("class","content-div"),o.push(s);const r=document.createElement("p");r.innerHTML="Task Title",o.push(r);const p=document.createElement("input");p.setAttribute("class","titleInput"),o.push(p);const l=document.createElement("div");l.setAttribute("class","content-div"),o.push(l);const a=document.createElement("p");a.innerHTML="Task Description",o.push(a);const u=document.createElement("textarea");u.setAttribute("class","descriptionInput"),u.setAttribute("rows","4"),o.push(u),d.onclick=function(c){((t,o,n,c)=>{if(0==((t,e)=>{let o=!1;return t.projects.forEach((t=>{t.projectID==e&&(o=!0)})),o})(t,o))return;let i=function(t,e){for(let o=0;o<t.projects.length;o++)if(t.projects[o].projectID==e)return o}(t,o),d={todoID:function(t,e){let o=0;return t.projects[e].todos.forEach((t=>{t.todoID>o&&(o=t.todoID)})),o+1}(t,i),todoTitle:""+n.value,todoDescription:""+c.value};t.projects[i].todos.push(d),e(t,o)})(t,n,p,u),popup.style.display="none",i(o)},s.appendChild(r),s.appendChild(p),l.appendChild(a),l.appendChild(u),c.insertBefore(s,d),c.insertBefore(l,d),document.getElementsByClassName("close")[0].onclick=function(){popup.style.display="none",i(o)},window.onclick=function(t){t.target==popup&&(popup.style.display="none",i(o))}},i=t=>{for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);t.splice(0,t.length)};t({projects:[{projectID:0,projectTitle:"Project 0",projectDescription:"description 0",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:1,projectTitle:"Project 1",projectDescription:"description 1",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:2,projectTitle:"Project 2",projectDescription:"description 2",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]}]}),o({projects:[{projectID:0,projectTitle:"Project 0",projectDescription:"description 0",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:1,projectTitle:"Project 1",projectDescription:"description 1",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:2,projectTitle:"Project 2",projectDescription:"description 2",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]}]})})();