(()=>{"use strict";const t=()=>{let t={projects:[{projectID:0,projectTitle:"Project 0",projectDescription:"description 0",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:1,projectTitle:"Project 1",projectDescription:"description 1",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]},{projectID:2,projectTitle:"Project 2",projectDescription:"description 2",todos:[{todoID:0,todoTitle:"todo Title 0",todoDescription:"todo description 0"},{todoID:1,todoTitle:"todo Title 1",todoDescription:"todo description 1"}]}]};return console.log(t),t},e=t=>{const e=document.getElementById("popup");document.getElementById("new-project").onclick=function(){o(t,[]),e.style.display="block"}},o=(t,e)=>{const o=document.getElementsByClassName("popup-container")[0],n=document.getElementById("apply"),i=document.createElement("div");i.setAttribute("class","content-div"),e.push(i);const s=document.createElement("p");s.innerHTML="Project Title",e.push(s);const d=document.createElement("input");d.setAttribute("class","titleInput"),e.push(d);const r=document.createElement("div");r.setAttribute("class","content-div"),e.push(r);const l=document.createElement("p");l.innerHTML="Project Description",e.push(l);const p=document.createElement("textarea");p.setAttribute("class","descriptionInput"),p.setAttribute("rows","4"),e.push(p),n.onclick=function(o){((t,e,o)=>{if(""==e||null==e||null==e)return void console.log("The project needs a title");let n={projectID:function(t){let e=0;return t.projects.forEach((t=>{t.projectID>e&&(e=t.projectID)})),e+1}(t),projectTitle:""+e.value,projectDescription:""+o.value,todos:[]};t.projects.push(n),console.log(t)})(t,d,p),popup.style.display="none",c(e)},i.appendChild(s),i.appendChild(d),r.appendChild(l),r.appendChild(p),o.insertBefore(i,n),o.insertBefore(r,n),document.getElementsByClassName("close")[0].onclick=function(){popup.style.display="none",c(e)},window.onclick=function(t){t.target==popup&&(popup.style.display="none",c(e))}},n=(t,e)=>{const o=document.getElementsByClassName("popup-container")[0],n=document.getElementById("apply"),i=document.createElement("div");i.setAttribute("class","content-div"),e.push(i);const s=document.createElement("p");s.innerHTML="Task Title",e.push(s);const d=document.createElement("input");d.setAttribute("class","titleInput"),e.push(d);const r=document.createElement("div");r.setAttribute("class","content-div"),e.push(r);const l=document.createElement("p");l.innerHTML="Task Description",e.push(l);const p=document.createElement("textarea");p.setAttribute("class","descriptionInput"),p.setAttribute("rows","4"),e.push(p),n.onclick=function(o){((t,e,o,n)=>{if(0==((t,e)=>{let o=!1;return t.projects.forEach((t=>{0==t.projectID&&(o=!0)})),o})(t))return;let c=function(t,e){for(let e=0;e<t.projects.length;e++)if(0==t.projects[e].projectID)return e}(t),i={todoID:function(t,e){let o=0;return t.projects[e].todos.forEach((t=>{t.todoID>o&&(o=t.todoID)})),o+1}(t,c),todoTitle:""+o.value,todoDescription:""+n.value};t.projects[c].todos.push(i),console.log(t)})(t,0,d,p),popup.style.display="none",c(e)},i.appendChild(s),i.appendChild(d),r.appendChild(l),r.appendChild(p),o.insertBefore(i,n),o.insertBefore(r,n),document.getElementsByClassName("close")[0].onclick=function(){popup.style.display="none",c(e)},window.onclick=function(t){t.target==popup&&(popup.style.display="none",c(e))}},c=t=>{for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);t.splice(0,t.length)},i=(t,o)=>{let c=null;for(let e=0;e<t.projects.length;e++)t.projects[e].projectID==o&&(c=e);const s=document.getElementById("main-container"),d=document.createElement("section");d.setAttribute("class","main-section"),d.setAttribute("class","project-"+o);const r=document.createElement("div");r.setAttribute("class","project-head");const l=document.createElement("div");l.setAttribute("class","content");const p=document.createElement("header");p.innerHTML=t.projects[c].projectTitle;const a=document.createElement("p");a.innerHTML=t.projects[c].projectDescription,l.appendChild(p),l.appendChild(a);const u=document.createElement("div");u.setAttribute("class","buttons");const m=document.createElement("i");m.setAttribute("class","fa fa-pencil-alt"),m.setAttribute("aria-hidden","true");const h=document.createElement("i");h.setAttribute("class","fa fa-trash"),h.setAttribute("aria-hidden","true"),u.appendChild(m),u.appendChild(h),r.appendChild(l),r.appendChild(u);const j=document.createElement("div");j.setAttribute("class","add-todo");const E=document.createElement("div");E.setAttribute("class","add-button"),E.setAttribute("id","add-todo-button");const b=document.createElement("span");b.innerHTML="add task";const f=document.createElement("i");f.setAttribute("class","fa fa-plus-circle"),f.setAttribute("aria-hidden","true"),E.appendChild(b),E.appendChild(f),j.appendChild(E),s.appendChild(d),d.appendChild(r),d.appendChild(j),t.projects[c].todos.forEach((s=>{const r=document.createElement("div");r.setAttribute("class","project-content");const l=document.createElement("div");l.setAttribute("class","content");const p=document.createElement("div");p.setAttribute("class","title"),p.innerHTML=s.todoTitle;const a=document.createElement("div");a.setAttribute("class","description"),a.innerHTML=s.todoDescription;const u=document.createElement("div");u.setAttribute("class","date"),u.innerHTML="dd/mm/yy hh:mm",l.appendChild(p),l.appendChild(a),l.appendChild(u);const m=document.createElement("div");m.setAttribute("class","buttons");const h=document.createElement("i");h.setAttribute("class","fa fa-pencil-alt"),h.setAttribute("aria-hidden","true"),h.setAttribute("id","todo-button"),h.onclick=function(){const o=document.getElementById("popup");e(t),n(t,[]),o.style.display="block"};const j=document.createElement("i");j.setAttribute("class","fa fa-trash"),j.setAttribute("aria-hidden","true"),j.onclick=function(){let e=null;for(let o=0;o<t.projects[c].todos.length;o++)t.projects[c].todos[o]==s&&(e=o);t.projects[c].todos.splice(e,1),i(t,o)},m.appendChild(h),m.appendChild(j),r.appendChild(l),r.appendChild(m),d.appendChild(r)}))};(t=>{let e=[];t.projects.forEach((o=>{const n=document.createElement("li"),c=document.createElement("a");c.setAttribute("class","nav-link"),c.setAttribute("id","project-"+o.projectID),c.innerHTML=o.projectTitle,n.appendChild(c),c.onclick=function(){i(t,o.projectID)},e.push(n)}));const o=document.getElementById("project-list");e.forEach((t=>{o.appendChild(t)}))})(t()),e(t())})();