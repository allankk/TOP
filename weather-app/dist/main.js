(()=>{"use strict";const e=JSON.parse('[{"Code":"AF","Name":"Afghanistan"},{"Code":"AX","Name":"Åland Islands"},{"Code":"AL","Name":"Albania"},{"Code":"DZ","Name":"Algeria"},{"Code":"AS","Name":"American Samoa"},{"Code":"AD","Name":"Andorra"},{"Code":"AO","Name":"Angola"},{"Code":"AI","Name":"Anguilla"},{"Code":"AQ","Name":"Antarctica"},{"Code":"AG","Name":"Antigua and Barbuda"},{"Code":"AR","Name":"Argentina"},{"Code":"AM","Name":"Armenia"},{"Code":"AW","Name":"Aruba"},{"Code":"AU","Name":"Australia"},{"Code":"AT","Name":"Austria"},{"Code":"AZ","Name":"Azerbaijan"},{"Code":"BS","Name":"Bahamas"},{"Code":"BH","Name":"Bahrain"},{"Code":"BD","Name":"Bangladesh"},{"Code":"BB","Name":"Barbados"},{"Code":"BY","Name":"Belarus"},{"Code":"BE","Name":"Belgium"},{"Code":"BZ","Name":"Belize"},{"Code":"BJ","Name":"Benin"},{"Code":"BM","Name":"Bermuda"},{"Code":"BT","Name":"Bhutan"},{"Code":"BO","Name":"Bolivia, Plurinational State of"},{"Code":"BQ","Name":"Bonaire, Sint Eustatius and Saba"},{"Code":"BA","Name":"Bosnia and Herzegovina"},{"Code":"BW","Name":"Botswana"},{"Code":"BV","Name":"Bouvet Island"},{"Code":"BR","Name":"Brazil"},{"Code":"IO","Name":"British Indian Ocean Territory"},{"Code":"BN","Name":"Brunei Darussalam"},{"Code":"BG","Name":"Bulgaria"},{"Code":"BF","Name":"Burkina Faso"},{"Code":"BI","Name":"Burundi"},{"Code":"KH","Name":"Cambodia"},{"Code":"CM","Name":"Cameroon"},{"Code":"CA","Name":"Canada"},{"Code":"CV","Name":"Cape Verde"},{"Code":"KY","Name":"Cayman Islands"},{"Code":"CF","Name":"Central African Republic"},{"Code":"TD","Name":"Chad"},{"Code":"CL","Name":"Chile"},{"Code":"CN","Name":"China"},{"Code":"CX","Name":"Christmas Island"},{"Code":"CC","Name":"Cocos (Keeling) Islands"},{"Code":"CO","Name":"Colombia"},{"Code":"KM","Name":"Comoros"},{"Code":"CG","Name":"Congo"},{"Code":"CD","Name":"Congo, the Democratic Republic of the"},{"Code":"CK","Name":"Cook Islands"},{"Code":"CR","Name":"Costa Rica"},{"Code":"CI","Name":"Côte d\'Ivoire"},{"Code":"HR","Name":"Croatia"},{"Code":"CU","Name":"Cuba"},{"Code":"CW","Name":"Curaçao"},{"Code":"CY","Name":"Cyprus"},{"Code":"CZ","Name":"Czech Republic"},{"Code":"DK","Name":"Denmark"},{"Code":"DJ","Name":"Djibouti"},{"Code":"DM","Name":"Dominica"},{"Code":"DO","Name":"Dominican Republic"},{"Code":"EC","Name":"Ecuador"},{"Code":"EG","Name":"Egypt"},{"Code":"SV","Name":"El Salvador"},{"Code":"GQ","Name":"Equatorial Guinea"},{"Code":"ER","Name":"Eritrea"},{"Code":"EE","Name":"Estonia"},{"Code":"ET","Name":"Ethiopia"},{"Code":"FK","Name":"Falkland Islands (Malvinas)"},{"Code":"FO","Name":"Faroe Islands"},{"Code":"FJ","Name":"Fiji"},{"Code":"FI","Name":"Finland"},{"Code":"FR","Name":"France"},{"Code":"GF","Name":"French Guiana"},{"Code":"PF","Name":"French Polynesia"},{"Code":"TF","Name":"French Southern Territories"},{"Code":"GA","Name":"Gabon"},{"Code":"GM","Name":"Gambia"},{"Code":"GE","Name":"Georgia"},{"Code":"DE","Name":"Germany"},{"Code":"GH","Name":"Ghana"},{"Code":"GI","Name":"Gibraltar"},{"Code":"GR","Name":"Greece"},{"Code":"GL","Name":"Greenland"},{"Code":"GD","Name":"Grenada"},{"Code":"GP","Name":"Guadeloupe"},{"Code":"GU","Name":"Guam"},{"Code":"GT","Name":"Guatemala"},{"Code":"GG","Name":"Guernsey"},{"Code":"GN","Name":"Guinea"},{"Code":"GW","Name":"Guinea-Bissau"},{"Code":"GY","Name":"Guyana"},{"Code":"HT","Name":"Haiti"},{"Code":"HM","Name":"Heard Island and McDonald Islands"},{"Code":"VA","Name":"Holy See (Vatican City State)"},{"Code":"HN","Name":"Honduras"},{"Code":"HK","Name":"Hong Kong"},{"Code":"HU","Name":"Hungary"},{"Code":"IS","Name":"Iceland"},{"Code":"IN","Name":"India"},{"Code":"ID","Name":"Indonesia"},{"Code":"IR","Name":"Iran, Islamic Republic of"},{"Code":"IQ","Name":"Iraq"},{"Code":"IE","Name":"Ireland"},{"Code":"IM","Name":"Isle of Man"},{"Code":"IL","Name":"Israel"},{"Code":"IT","Name":"Italy"},{"Code":"JM","Name":"Jamaica"},{"Code":"JP","Name":"Japan"},{"Code":"JE","Name":"Jersey"},{"Code":"JO","Name":"Jordan"},{"Code":"KZ","Name":"Kazakhstan"},{"Code":"KE","Name":"Kenya"},{"Code":"KI","Name":"Kiribati"},{"Code":"KP","Name":"Korea, Democratic People\'s Republic of"},{"Code":"KR","Name":"Korea, Republic of"},{"Code":"KW","Name":"Kuwait"},{"Code":"KG","Name":"Kyrgyzstan"},{"Code":"LA","Name":"Lao People\'s Democratic Republic"},{"Code":"LV","Name":"Latvia"},{"Code":"LB","Name":"Lebanon"},{"Code":"LS","Name":"Lesotho"},{"Code":"LR","Name":"Liberia"},{"Code":"LY","Name":"Libya"},{"Code":"LI","Name":"Liechtenstein"},{"Code":"LT","Name":"Lithuania"},{"Code":"LU","Name":"Luxembourg"},{"Code":"MO","Name":"Macao"},{"Code":"MK","Name":"Macedonia, the Former Yugoslav Republic of"},{"Code":"MG","Name":"Madagascar"},{"Code":"MW","Name":"Malawi"},{"Code":"MY","Name":"Malaysia"},{"Code":"MV","Name":"Maldives"},{"Code":"ML","Name":"Mali"},{"Code":"MT","Name":"Malta"},{"Code":"MH","Name":"Marshall Islands"},{"Code":"MQ","Name":"Martinique"},{"Code":"MR","Name":"Mauritania"},{"Code":"MU","Name":"Mauritius"},{"Code":"YT","Name":"Mayotte"},{"Code":"MX","Name":"Mexico"},{"Code":"FM","Name":"Micronesia, Federated States of"},{"Code":"MD","Name":"Moldova, Republic of"},{"Code":"MC","Name":"Monaco"},{"Code":"MN","Name":"Mongolia"},{"Code":"ME","Name":"Montenegro"},{"Code":"MS","Name":"Montserrat"},{"Code":"MA","Name":"Morocco"},{"Code":"MZ","Name":"Mozambique"},{"Code":"MM","Name":"Myanmar"},{"Code":"NA","Name":"Namibia"},{"Code":"NR","Name":"Nauru"},{"Code":"NP","Name":"Nepal"},{"Code":"NL","Name":"Netherlands"},{"Code":"NC","Name":"New Caledonia"},{"Code":"NZ","Name":"New Zealand"},{"Code":"NI","Name":"Nicaragua"},{"Code":"NE","Name":"Niger"},{"Code":"NG","Name":"Nigeria"},{"Code":"NU","Name":"Niue"},{"Code":"NF","Name":"Norfolk Island"},{"Code":"MP","Name":"Northern Mariana Islands"},{"Code":"NO","Name":"Norway"},{"Code":"OM","Name":"Oman"},{"Code":"PK","Name":"Pakistan"},{"Code":"PW","Name":"Palau"},{"Code":"PS","Name":"Palestine, State of"},{"Code":"PA","Name":"Panama"},{"Code":"PG","Name":"Papua New Guinea"},{"Code":"PY","Name":"Paraguay"},{"Code":"PE","Name":"Peru"},{"Code":"PH","Name":"Philippines"},{"Code":"PN","Name":"Pitcairn"},{"Code":"PL","Name":"Poland"},{"Code":"PT","Name":"Portugal"},{"Code":"PR","Name":"Puerto Rico"},{"Code":"QA","Name":"Qatar"},{"Code":"RE","Name":"Réunion"},{"Code":"RO","Name":"Romania"},{"Code":"RU","Name":"Russian Federation"},{"Code":"RW","Name":"Rwanda"},{"Code":"BL","Name":"Saint Barthélemy"},{"Code":"SH","Name":"Saint Helena, Ascension and Tristan da Cunha"},{"Code":"KN","Name":"Saint Kitts and Nevis"},{"Code":"LC","Name":"Saint Lucia"},{"Code":"MF","Name":"Saint Martin (French part)"},{"Code":"PM","Name":"Saint Pierre and Miquelon"},{"Code":"VC","Name":"Saint Vincent and the Grenadines"},{"Code":"WS","Name":"Samoa"},{"Code":"SM","Name":"San Marino"},{"Code":"ST","Name":"Sao Tome and Principe"},{"Code":"SA","Name":"Saudi Arabia"},{"Code":"SN","Name":"Senegal"},{"Code":"RS","Name":"Serbia"},{"Code":"SC","Name":"Seychelles"},{"Code":"SL","Name":"Sierra Leone"},{"Code":"SG","Name":"Singapore"},{"Code":"SX","Name":"Sint Maarten (Dutch part)"},{"Code":"SK","Name":"Slovakia"},{"Code":"SI","Name":"Slovenia"},{"Code":"SB","Name":"Solomon Islands"},{"Code":"SO","Name":"Somalia"},{"Code":"ZA","Name":"South Africa"},{"Code":"GS","Name":"South Georgia and the South Sandwich Islands"},{"Code":"SS","Name":"South Sudan"},{"Code":"ES","Name":"Spain"},{"Code":"LK","Name":"Sri Lanka"},{"Code":"SD","Name":"Sudan"},{"Code":"SR","Name":"Suriname"},{"Code":"SJ","Name":"Svalbard and Jan Mayen"},{"Code":"SZ","Name":"Swaziland"},{"Code":"SE","Name":"Sweden"},{"Code":"CH","Name":"Switzerland"},{"Code":"SY","Name":"Syrian Arab Republic"},{"Code":"TW","Name":"Taiwan, Province of China"},{"Code":"TJ","Name":"Tajikistan"},{"Code":"TZ","Name":"Tanzania, United Republic of"},{"Code":"TH","Name":"Thailand"},{"Code":"TL","Name":"Timor-Leste"},{"Code":"TG","Name":"Togo"},{"Code":"TK","Name":"Tokelau"},{"Code":"TO","Name":"Tonga"},{"Code":"TT","Name":"Trinidad and Tobago"},{"Code":"TN","Name":"Tunisia"},{"Code":"TR","Name":"Turkey"},{"Code":"TM","Name":"Turkmenistan"},{"Code":"TC","Name":"Turks and Caicos Islands"},{"Code":"TV","Name":"Tuvalu"},{"Code":"UG","Name":"Uganda"},{"Code":"UA","Name":"Ukraine"},{"Code":"AE","Name":"United Arab Emirates"},{"Code":"GB","Name":"United Kingdom"},{"Code":"US","Name":"United States"},{"Code":"UM","Name":"United States Minor Outlying Islands"},{"Code":"UY","Name":"Uruguay"},{"Code":"UZ","Name":"Uzbekistan"},{"Code":"VU","Name":"Vanuatu"},{"Code":"VE","Name":"Venezuela, Bolivarian Republic of"},{"Code":"VN","Name":"Viet Nam"},{"Code":"VG","Name":"Virgin Islands, British"},{"Code":"VI","Name":"Virgin Islands, U.S."},{"Code":"WF","Name":"Wallis and Futuna"},{"Code":"EH","Name":"Western Sahara"},{"Code":"YE","Name":"Yemen"},{"Code":"ZM","Name":"Zambia"},{"Code":"ZW","Name":"Zimbabwe"}]'),a=e=>{let a=["north","north-east","east","south-east","south","south-west","west","north-west","north"],o=Math.floor(e/45);return e%45<22.5?a[o]:a[o+1]},o=e=>{let a=e.main.toLowerCase();return"clouds"==a&&(a=e.description.replace(/ /g,"-")),a},t=(e,a)=>{e.addEventListener("mouseover",(()=>{a.setAttribute("class","change-bar show")})),e.addEventListener("mouseout",(()=>{a.setAttribute("class","change-bar")}))},n=(e,a,o,t)=>{o.addEventListener("click",(()=>{d(e.place.replace(/ /g,"+"),a)})),t.addEventListener("click",(()=>{localStorage.removeItem(e.place),a.parentNode.removeChild(a)}))},d=(e,a)=>{fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=ccc5bdcd6b167bc37faefb623abeb33b",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){i(e,a)})).catch((function(e){console.log(e);const a=document.querySelector(".error");a.innerHTML="Could not retrieve information",a.setAttribute("class","error show")}))},i=(d,i)=>{let C={};C.place=d.name,C.feels_like=Math.round(d.main.feels_like-273.15),C.temp=Math.round(d.main.temp-273.15),C.sunrise=r(d.sys.sunrise),C.sunset=r(d.sys.sunset),C.humidity=d.main.humidity,C.description=d.weather[0].description,C.main=d.weather[0].main,C.wind_deg=d.wind.deg,C.wind_speed=Math.round(10*d.wind.speed)/10,C.icon=d.weather[0].icon;let s=d.sys.country;for(let a=0;a<e.length;a++)if(e[a].Code==s){C.country=e[a].Name;break}localStorage.setItem(`${C.place}`,JSON.stringify(C)),i?m(C,i):(e=>{(e=>{const d=document.createElement("div"),i=o(e);d.setAttribute("class",`weather-item ${i}`);const m=document.createElement("div");m.setAttribute("class","change-bar"),d.appendChild(m),t(d,m);const r=document.createElement("i");r.setAttribute("class","fa fa-sync"),m.appendChild(r);const C=document.createElement("i");C.setAttribute("class","fa fa-times"),m.appendChild(C),n(e,d,r,C);const s=document.createElement("div");s.setAttribute("class","weather-icon"),d.appendChild(s);const N=document.createElement("img");N.setAttribute("src",`icons/${e.icon}.png`),s.appendChild(N);const c=document.createElement("div");c.setAttribute("id","city"),c.innerHTML=e.place,d.appendChild(c);const l=document.createElement("div");l.setAttribute("id","country"),l.innerHTML=e.country,d.appendChild(l);const u=document.createElement("div");u.setAttribute("class","description"),u.innerHTML=e.description,d.appendChild(u);const p=document.createElement("div");p.setAttribute("class","content"),d.appendChild(p);const h=document.createElement("div");h.setAttribute("class","item-container"),p.appendChild(h);const S=document.createElement("span");S.setAttribute("id","temp"),S.innerHTML=`${e.temp}°C`,h.appendChild(S);const M=document.createElement("span");M.innerHTML="<br>Temp.",h.appendChild(M);const b=document.createElement("div");b.setAttribute("class","item-container"),p.appendChild(b);const A=document.createElement("span");A.setAttribute("id","feels-like"),A.innerHTML=`${e.feels_like}°C`,b.appendChild(A);const g=document.createElement("span");g.innerHTML="<br>Feels like",b.appendChild(g);const T=document.createElement("div");T.setAttribute("class","item-container icon"),p.appendChild(T);const E=document.createElement("i"),y=a(e.wind_deg);E.setAttribute("class",`wind-arrow fa fa-location-arrow ${y}`),T.appendChild(E);const L=document.createElement("span");L.setAttribute("id","wind-speed"),L.innerHTML=`${e.wind_speed} m/s`,T.appendChild(L);const I=document.createElement("div");I.setAttribute("class","content"),d.appendChild(I);const B=document.createElement("div");B.setAttribute("class","item-container"),I.appendChild(B);const G=document.createElement("span");G.setAttribute("id","sunrise"),G.innerHTML=`${e.sunrise}`,B.appendChild(G);const w=document.createElement("span");w.innerHTML="<br>Sunrise",B.appendChild(w);const H=document.createElement("div");H.setAttribute("class","item-container"),I.appendChild(H);const f=document.createElement("span");f.setAttribute("id","sunset"),f.innerHTML=`${e.sunset}`,H.appendChild(f);const v=document.createElement("span");v.innerHTML="<br>Sunset",H.appendChild(v);const R=document.createElement("div");R.setAttribute("class","item-container icon"),I.appendChild(R);const P=document.createElement("i");P.setAttribute("class","fa fa-water"),R.appendChild(P);const k=document.createElement("span");k.setAttribute("id","humidity"),k.innerHTML=`${e.humidity}%`,R.appendChild(k),document.getElementById("weather-content").appendChild(d)})(e)})(C)},m=(e,t)=>{const n=o(e);t.setAttribute("class",`weather-item ${n}`),t.querySelector("img").setAttribute("src",`icons/${e.icon}.png`),t.querySelector("#city").innerHTML=e.place,t.querySelector("#country").innerHTML=e.country,t.querySelector(".description").innerHTML=e.description,t.querySelector("#temp").innerHTML=`${e.temp}°C`,t.querySelector("#feels-like").innerHTML=`${e.feels_like}°C`;const d=t.querySelector(".wind-arrow");let i=a(e.wind_deg);d.setAttribute("class",`wind-arrow fa fa-location-arrow ${i}`),t.querySelector("#wind-speed").innerHTML=`${e.wind_speed} m/s`,t.querySelector("#sunrise").innerHTML=e.sunrise,t.querySelector("#sunset").innerHTML=e.sunset,t.querySelector("#humidity").innerHTML=`${e.humidity}%`};function r(e){let a=new Date(1e3*e);return(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())}!function(){(()=>{const e=document.getElementById("search"),a=document.getElementById("search-btn"),o=document.querySelector(".error");e.addEventListener("keyup",(function(e){"Enter"==e.key&&a.click()})),a.addEventListener("click",(()=>{if(document.querySelector(".error").setAttribute("class","error"),""==e.value)console.log(o),o.innerHTML="Search input is empty",o.setAttribute("class","error show");else{const a=e.value.replace(/ /g,"+");e.value="",d(a)}}))})();for(let e=0;e<localStorage.length;e++){let a=JSON.parse(localStorage.getItem(localStorage.key(e)));d(a.place)}}()})();